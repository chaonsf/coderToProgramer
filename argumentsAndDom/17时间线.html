<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- 时间线定义 -->
    <p>在浏览器加载页面开始的那一刻到页面加载完全结束的这个过程，按顺序发生的每一件事的总流程</p>
    <ol>
        <li>document对象：js起作用了  dom</li>
        <li>
            解析文档，构建Dom树
            document.readyState='loading'
        </li>
        <li>
           若有 link开新线程=》异步加载css外部文件  style（dom树和css树是同时构建）
        </li>
        <li>
            若没有设置异步加载SCRIPT，阻塞文档解析。等待js脚本加载并且执行完成后，继续解析文档
        </li>
        <li>
            若异步加载SCRIPT，异步加载js脚步并且执行，不阻塞解析文档。(不能使用document.write（）)
        </li>
        <li>
            若解析文档遇到img，先解析这个节点。src创建加载线程，异步加载图片资源。不阻塞解析文档
        </li>
        <li>文档解析完成 :
            document.readyState="interactive"
        </li>
        <li>文档解析完成，defer script  js脚本按照顺序执行</li>
        <li>
            文档解析完成:DOMContentLOaded事件   程序：同步的脚本执行阶段=》事件驱动阶段
        </li>
        <li>
            document.readyState='complete'  加载完成
        </li>
    </ol>
</body>
<script>
     console.log(document.readyState);
     document.onreadystatechange=function () { 
         console.log(document.readyState)
      }
      document.addEventListener("DOMContentLoaded",()=>{
        console.log("DOMConetentLoaded")
      })
</script>
</html>